{% extends 'base.html.twig' %}

{% block body %}
    <div class="d-flex flex-row justify-content-between">
        <h2>{{ tvShow.title }}</h2>
        <div>
            <a href="{{ path('tv_show_update', {'id': tvShow.id}) }}" class="btn btn-primary">Modifier</a>
        </div>
    </div>

    <ul class="list-inline">
    {% for category in tvShow.categories %}
        <li class="list-inline-item">
            <a href="{{ path('category_view', {'id': category.id}) }}">{{ category.label }}</a>
        </li>
    {% endfor %}
    </ul>
    <p>{{ tvShow.synopsis }}</p>

    <dl class="row">
        {% if tvShow.directedBy is not empty %}
            <dt class="col-sm-3">Show runner</dt>
            <dd class="col-sm-9">{{ tvShow.directedBy.fullName }}</dd>
        {% endif %}
        {% if tvShow.releaseDate is not empty %}
            <dt class="col-sm-3">Premi√®re diffusion</dt>
            <dd class="col-sm-9">{{ tvShow.releaseDate | date("d/m/Y") }}</dd>
        {% endif %}
    </dl>
    <div class="d-flex flex-row justify-content-between my-4">
        <h3>Personnages principaux</h3>
        <div>
            <a href="{{ path('character_add', {'id': tvShow.id}) }}" class="btn btn-primary">Ajouter</a>
        </div>
    </div>

    {% for character in tvShow.characters %}
        {% if not loop.first %}
        <hr>
        {% endif %}
        <div class="media">
            <img src="https://via.placeholder.com/150" class="mr-3" width="110">
            <div class="media-body">
                <h5 class="mt-0">
                    {{ character.name }}
                    <a href="{{ path('character_update', {'id': character.id}) }}"><i class="material-icons">edit</i></a>
                </h5>
                {% if character.actors is not empty %}
                    <ul class="list-inline">
                    {% for actor in character.actors %}
                        <li class="list-inline-item">{{ actor.firstName }} {{ actor.lastName }}</li>
                    {% endfor %}
                    </ul>
                {% endif %}
            </div>
        </div>
    {% endfor %}
{% endblock %}
